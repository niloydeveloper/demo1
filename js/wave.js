window.CanvasSlideshow=function(n){var e=this;(n=n||{}).stageWidth=n.hasOwnProperty("stageWidth")?n.stageWidth:1920,n.stageHeight=n.hasOwnProperty("stageHeight")?n.stageHeight:1080,n.pixiSprites=n.hasOwnProperty("sprites")?n.sprites:[],n.centerSprites=!!n.hasOwnProperty("centerSprites")&&n.centerSprites,n.autoPlay=!n.hasOwnProperty("autoPlay")||n.autoPlay,n.autoPlaySpeed=n.hasOwnProperty("autoPlaySpeed")?n.autoPlaySpeed:[10,3],n.fullScreen=!n.hasOwnProperty("fullScreen")||n.fullScreen,n.displacementImage=n.hasOwnProperty("displacementImage")?n.displacementImage:"",n.displaceAutoFit=!!n.hasOwnProperty("displaceAutoFit")&&n.displaceAutoFit,n.wacky=!!n.hasOwnProperty("wacky")&&n.wacky,n.interactive=!!n.hasOwnProperty("interactive")&&n.interactive,n.interactionEvent=n.hasOwnProperty("interactionEvent")?n.interactionEvent:"",n.displacementCenter=!!n.hasOwnProperty("displacementCenter")&&n.displacementCenter,n.dispatchPointerOver=!!n.hasOwnProperty("dispatchPointerOver")&&n.dispatchPointerOver;var s=new PIXI.autoDetectRenderer(n.stageWidth,n.stageHeight,{transparent:!0}),t=new PIXI.Container,o=new PIXI.Container,i=new PIXI.Sprite.fromImage(n.displacementImage),a=new PIXI.filters.DisplacementFilter(i);if(this.initPixi=function(){document.getElementById("js-canvas-wrapper").appendChild(s.view),t.addChild(o),(t.interactive=!0)===n.fullScreen?(s.view.style.objectFit="cover",s.view.style.width="100vw",s.view.style.height="100vh"):s.view.style.maxWidth="100vw",s.view.style.webkitTransform="scale(1.1)",s.view.style.transform="scale(1.1)",i.texture.baseTexture.wrapMode=PIXI.WRAP_MODES.REPEAT,!(t.filters=[a])===n.autoPlay&&(a.scale.x=0,a.scale.y=0),!0===n.wacky&&(i.anchor.set(.5),i.x=s.width/2,i.y=s.height/2),i.scale.x=2,i.scale.y=2,a.autoFit=n.displaceAutoFit,t.addChild(i)},this.loadPixiSprites=function(e){for(var t=n.sprites,i=0;i<t.length;i++){var a=new PIXI.Texture.fromImage(e[i]),r=new PIXI.Sprite(a);!0===n.centerSprites&&(r.anchor.set(.5),r.x=s.width/2,r.y=s.height/2),o.addChild(r)}},!0===n.autoPlay){var r=new PIXI.ticker.Ticker;r.autoStart=n.autoPlay,r.add(function(e){i.x+=n.autoPlaySpeed[0]*e,i.y+=n.autoPlaySpeed[1],s.render(t)})}else{var c=new PIXI.ticker.Ticker;c.autoStart=!0,c.add(function(e){s.render(t)})}this.init=function(){e.initPixi(),e.loadPixiSprites(n.pixiSprites)},this.init()};var spriteImagesSrc=[];spriteImagesSrc.push("../img/bg1.jpg");var initCanvasSlideshow=new CanvasSlideshow({sprites:spriteImagesSrc,displacementImage:"../img/pattern.jpg",autoPlay:!0,autoPlaySpeed:[2,4],interactive:!1,interactionEvent:"click",displaceAutoFit:!1,dispatchPointerOver:!0});